<!--个人信息页面-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>MySeting</title>
    <link rel="shortcut icon" href="../img/favicon.png"/>
    <!-- Bootstrap -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <!--自定义调整样式 -->
    <link href="../css/mycss.css" rel="stylesheet">
    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="../js/jquery-3.5.1.min.js"></script>
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <script src="../js/bootstrap.min.js"></script>
    <!-- cookie插件   -->
    <script src="../js/jquery.cookie.js"></script>
    <script type="text/javascript">
        let cookieLogin=$.cookie("login");
        let cookieAccount=$.cookie("account");
        //这个值用来判断用户名格式是否正确
        let a ;
        //表格对象
        let blogTable;
        //当前页码
        let pageNow;
        //页码对象
        let pageNumber;
        //已经添加的标签
        let alreadyTag
        //当前编辑文章的id
        let nowId;
        //提示信息
        let helpBlock;
        $(function(){
            //表格对象
            blogTable=$("#myBlogsTable");
            //页码对象
            pageNumber=$("#pageNumber");
            //已经添加的标签
            alreadyTag =$("#aleadytag");
            //提示信息
            helpBlock=$("#changeNameHelpInf");
            //未登录
            if(cookieLogin==null||cookieAccount==null){
                let arr = location.href.split("/");
                delete arr[arr.length-1];
                let dir = arr.join("/");
                //重定向到blog页面
                $(window).attr('location',dir+"blogs.html");
                return
            }
            $("#editBlogShow").hide();
            $("#setingShow").hide();
            //刷新函数（初始化页面信息，根据是否登录来初始化），用cookie保存用户信息
            if(cookieLogin != null && cookieLogin !== ''){
                //向服务器请求信息
                $.post("../GetUserInfServlet",{account:cookieAccount},function (data) {
                    $("#face1").prop("src",data.face);
                    $("#myFace").prop("src",data.face);
                    $("#name").html("用户名:"+data.name);
                    $("#account").html("账号:"+data.account);
                    $("#changeName").val(data.name);
                    $("#nowSex").html("当前性别:"+data.sex);
                },"json");
            }
            //修改密码
            $("#changePassWordButton").click(function () {
                //现在的密码
                let nowPassWord= $("#nowPassWord").val();
                //想要改变的密码
                let wantToChangePassWord = $("#wantToChangePassWord").val();
                //再次输入相同的密码
                let repeatPassWord = $("#repeatPassWord").val();
                if (nowPassWord==null||nowPassWord===""){
                    alert("原密码不能为空!");
                    return;
                }
                else if (wantToChangePassWord==null||wantToChangePassWord===""){
                    alert("新密码不能为空!");
                    return;
                }
                else if (repeatPassWord==null||repeatPassWord===""){
                    alert("再次输入的密码不能为空!");
                    return;
                }
                if(wantToChangePassWord!==repeatPassWord){
                    alert("两次密码输入不相同，请重新输入");
                    repeatPassWord.val("");
                    return ;
                }
                //向服务器请求
                $.post("../ChangePassWordServlet",{account:cookieAccount,nowPassWord:nowPassWord,wantToChangePassWord:wantToChangePassWord},function (data) {
                    if(data==="success"){
                        alert("修改成功！");
                        //清空原密码
                        $("#nowPassWord").val("");
                        //清空改变的密码
                        $("#wantToChangePassWord").val("");
                        //清空重复的密码
                        $("#repeatPassWord").val("");
                        return ;
                    }
                    alert("修改失败，请检查原密码是否输入正确（或者后端程序员写BUG啦-v-）");
                },"text");
            });
            $("#deleteUserButton").click(function () {
                let passWord = $("#deleteUserPassWord").val();
                let repeatPassWord=$("#repeatDeleteUserPassWord").val();
                if(passWord==null||repeatPassWord==null||passWord===''||repeatPassWord===''){
                    alert("密码输入不能为空");
                }
                else if(passWord!==repeatPassWord){
                    alert("两次密码输入不一致");
                }
                else{
                    let sure =confirm("你确定注销账户吗?(注销后你的文章还将继续存在,如果不想这样的话请先删除文章哦!)");
                    if(sure===true){
                        $.post("../DeleteUserServlet",{account:cookieAccount,passWord:passWord},function (data) {
                            if (data==="success"){
                                alert("注销成功");
                                //清除登录信息,重定向到博客页码
                                $.removeCookie("login",{ path: '/'});
                                $.removeCookie("account",{ path: '/'});
                                //获取相对路径，增加移植性
                                let arr = location.href.split("/");
                                delete arr[arr.length-1];
                                let dir = arr.join("/");
                                //重定向到blog页面
                                $(window).attr('location',dir+"blogs.html");
                                return;
                            }
                            alert("密码输入错误");
                        },"text");
                    }
                }
            })
            //注册监测用户名是否存在
            $("#changeName").blur(function () {
                a=false;
                let userName = $(this).val();
                if(userName == null || userName === ''){
                    helpBlock.html("用户名不能为空");
                    return;
                }
                if(userName.length>10){
                    helpBlock.html("用户名不能超过十个字符");
                }
                //格式正确，向服务器发送请求
                else {
                    $.post("../IsExistByNameServlet",{message:userName},function (data) {
                        if(data==="yes"){
                            helpBlock.html("用户名已存在");
                            return;
                        }
                        helpBlock.html("用户名可用");
                        a=true;
                    },"text");
                }
            })
            //修改性别或者账号
            $("#changeInfButton").click(function () {
                //获取单选按钮值
                let sex=$('input[name="sexChoose"]:checked').val();
                //获取姓名
                let name=$("#changeName").val();
                if(!a){
                    alert("用户名不符合格式，请重新检查输入！");
                    return;
                }
                //格式正确向服务器请求信息
                $.post("../ChangeSexAndNameServlet",{account:cookieAccount,name:name,sex:sex},function (data) {
                    if (data==="success"){
                        alert("修改成功");
                        $("#name").html("用户名:"+name);
                        $("#changeName").val(name);
                        $("#nowSex").html("当前性别:"+sex);
                        return;
                    }
                    alert("修改失败，检查服务器");
                },"text");
            });
            //修改头像
            $("#changeFace").click(function () {
                let faceFile=$("#faceInputFile");
                if(faceFile.val()===""){
                    alert("请选择一张图片");
                    return;
                }
                let formData = new FormData();
                //添加账号
                formData.append("account",cookieAccount);
                //添加文件
                formData.append("face",faceFile[0].files[0]);
                //向服务器请求信息
                $.ajax({
                    url:"../ChangeFaceServlet",
                    type:'post',
                    data:formData,
                    processData:false,//对data参数进行序列化处理
                    contentType:false,//内容编码类型
                    cache:false,//不使用缓存
                    dataType:"text",
                    success:function(data){
                        $("#face1").prop("src",data);
                        $("#myFace").prop("src",data);
                        faceFile.val('');
                        alert('修改成功');
                    }
                })
            });
            //退出账号
            $("#loginOut").click(function () {
                let sure = confirm("确定退出账号吗？");
                if(true===sure){
                    $.removeCookie("login",{ path: '/'});
                    $.removeCookie("account",{ path: '/'});
                    //获取相对路径，增加移植性
                    let arr = location.href.split("/");
                    delete arr[arr.length-1];
                    let dir = arr.join("/");
                    //重定向到blog页面
                    $(window).attr('location',dir+"blogs.html");
                }
            })
            //绑定修改博客事件
            $("#editBlogButton").click(function () {
                //标题
                let title = $("#editTitle").val();
                //内容
                let content =$("#editContent").val();
                if(title===""||title==null){
                    alert("文章标题不能为空");
                }
                else if(content===""||content==null){
                    alert("内容不能为空")
                }
                else if(title.length>15){
                    alert("文章标题太长，请重新输入~~");
                }
                else if(content.length>500){
                    alert("文章内容不能超过500个字哦~~");
                }
                else {
                    //选中的分类对象
                    let tags = $("input[disabled=disabled]");
                    //具体的分类
                    let tagsDetail;
                    //没有选择分类
                    if(tags.length===0){
                        tagsDetail="无"
                    }
                    //选择了一个分类
                    else if(tags.length===1){
                        tagsDetail=tags[0].value;
                    }
                    //两个分类都选择了
                    else{
                        tagsDetail="算法&后端";
                    }
                    //信息正确向服务器发送请求
                    $.post("../EditBlogServlet",{id:nowId,tagsDetail:tagsDetail,content:content,title:title},function (data) {
                        //成功修改
                        if(data==="success"){
                            alert("修改成功！");
                            let tags=tagsDetail.split('&');
                            let tagLable=$('#'+nowId+'col');
                            tagLable.empty();
                            //动态设置博文
                            $('#'+nowId+'title').text(title);
                            //循环添加分类
                            for (let j=0;j<tags.length;j++) {
                                tagLable.append('<span class="label label-primary">'+tags[j]+'</span>');
                            }
                            $("#editBlogModal").modal('hide');
                            return;
                        }
                        //修改失败
                        alert("修改失败！（服务器可能在维护哦）");
                    },"text");
                }});

            //--------------------下面为页面点击的切换逻辑------------------------//
            //单击展示图方法
            $("#showPicture").click(function () {
                $("#homeShow").show();
                $("#setingShow").hide();
                $("#editBlogShow").hide()
                $("#navPage").hide();
            })
            //单击博客管理
            $("#showEditArticle").click(function () {
                $("#homeShow").hide();
                $("#setingShow").hide();
                $("#navPage").show();
                $("#editBlogShow").show();
                $.post("../GetArticleByNameServlet",{currentPage:"1",pageSize:"5",userName:cookieLogin},function (data) {
                    //当前页码
                    pageNow=1;
                    //获取文章集合（json格式）
                    let dataList=data.dataList;
                    //清空列表原有数据
                    blogTable.empty();
                    //添加表格体
                    blogTable.append('<tbody></tbody>');
                    let table=$("#myBlogsTable tbody");
                    //添加首行列名
                    table.append('<tr>'+
                        '<td>#</td>'+
                        '<td>博文名字</td>'+
                        '<td>博文分类</td>'+
                        '<td>博客操作</td>>'+
                        '</tr>'
                    )
                    //下面是博文信息的添加
                    //循环添加博文信息行
                    for(let i=0;i<dataList.length;i++){
                        //先添加行标签并且设置id
                        table.append('<tr id='+dataList[i].id+'>'+'</tr>');
                        //动态获取行对象
                        let row=$("#"+dataList[i].id);
                        //第一列根据当前页码和每一页的数量计算得到
                        row.append('<td>'+((data.currentPage-1)*data.pageSize+i+1)+"</td>");
                        //第二列名字
                        row.append('<td id='+dataList[i].id+'title'+'>'+dataList[i].name+'</td>');
                        //第三列分类
                        row.append('<td id='+dataList[i].id+"col"+'>'+'</td>');
                        //循环添加分类
                        for (let j=0;j<dataList[i].tags.length;j++) {
                            $("#"+dataList[i].id+"col").append('<span class="label label-primary">'+dataList[i].tags[j]+'</span>');
                        }
                        //第四列操作
                        row.append('<td><div class="btn-group"  role="group" aria-label="...">' +
                            '<button type="button" myid='+dataList[i].id +' status="check" class="btn btn-info">查看</button>' +
                            '<button type="button" myid='+dataList[i].id +' status="edit" class="btn btn-primary">编辑</button>' +
                            '<button type="button" myid='+dataList[i].id +' status="delete" class="btn btn-danger">删除</button>' +
                            '</div></td>');
                    }
                    //下面是页码信息的添加
                    //循环添加页码
                    pageNumber.empty();
                    //刚开始的时候向前肯定不行
                    pageNumber.append('<li class="disabled" status="noAllow"><a href="#" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>');
                    for(let i=1;i<=data.totalPage;i++){
                        //如果恰好是当前页面，将按钮设置为激活状态
                        if(i===data.currentPage){
                            pageNumber.append('<li class="active"><a href="#" >'+i+'</a></li>');
                            continue;
                        }
                        //不是当前页面
                        pageNumber.append('<li><a href="#">'+i+'</a></li>');
                    }
                    //以防记录为0或者为1的时候向后按钮仍然可以按的bug
                    if(data.totalPage===0||data.totalPage===1) {pageNumber.append('<li class="disabled" status="noAllow"><a href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>');}
                    else {pageNumber.append('<li status="Next"><a href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>');}
                    pageNumber.append('<li><span>共'+data.totalPage+'页,'+data.totalRecord+'条记录</span></li>');
                },"json");
            });
            //翻页功能事件绑定
            pageNumber.on('click','li',function () {
                let currentPage;
                let object = $(this);
                //禁止跳页
                if (object.attr("status") === "noAllow") {
                    return;
                }
                //按钮向前
                if (object.attr("status") === "Previous") {
                    currentPage = pageNow - 1;
                }
                //按钮向后
                else if (object.attr("status") === "Next") {
                    currentPage = pageNow + 1;
                }
                //直接点击页数
                else {
                    currentPage = object.text();
                }
                $.post("../GetArticleByNameServlet",{currentPage:currentPage,pageSize:"5",userName:cookieLogin},function (data) {
                    //当前页码
                    pageNow=data.currentPage;
                    //获取文章集合（json格式）
                    let dataList=data.dataList;
                    //清空列表原有数据
                    blogTable.empty();
                    //添加表格体
                    blogTable.append('<tbody></tbody>');
                    let table=$("#myBlogsTable tbody");
                    //添加首行列名
                    table.append('<tr>'+
                        '<td>#</td>'+
                        '<td>博文名字</td>'+
                        '<td>博文分类</td>'+
                        '<td>博客操作</td>>'+
                        '</tr>'
                    )
                    //下面是博文信息的添加
                    //循环添加博文信息行
                    for(let i=0;i<dataList.length;i++){
                        //先添加行标签并且设置id
                        table.append('<tr id='+dataList[i].id+'>'+'</tr>');
                        //动态获取行对象
                        let row=$("#"+dataList[i].id);
                        //第一列根据当前页码和每一页的数量计算得到
                        row.append('<td>'+((data.currentPage-1)*data.pageSize+i+1)+"</td>");
                        //第二列名字
                        row.append('<td id='+dataList[i].id+'title'+'>'+dataList[i].name+'</td>');
                        //第三列分类
                        row.append('<td id='+dataList[i].id+"col"+'>'+'</td>');
                        //循环添加分类
                        for (let j=0;j<dataList[i].tags.length;j++) {
                            $("#"+dataList[i].id+"col").append('<span class="label label-primary">'+dataList[i].tags[j]+'</span>');
                        }
                        //第四列操作
                        row.append('<td><div class="btn-group"  role="group" aria-label="...">' +
                            '<button type="button" myid='+dataList[i].id +' status="check" class="btn btn-info">查看</button>' +
                            '<button type="button" myid='+dataList[i].id +' status="edit" class="btn btn-primary">编辑</button>' +
                            '<button type="button" myid='+dataList[i].id +' status="delete" class="btn btn-danger">删除</button>' +
                            '</div></td>');
                    }
                    //下面是页码信息的添加
                    //循环添加页码
                    pageNumber.empty();
                    //添加向左翻页(如果是第一页，禁止向前翻页)
                    if (pageNow === 1) {pageNumber.append('<li class="disabled"  status="noAllow"><a href="#" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>');}
                    else {pageNumber.append('<li status="Previous"><a href="#" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>');}
                    for(let i=1;i<=data.totalPage;i++){
                        //如果恰好是当前页面，将按钮设置为激活状态
                        if(i===data.currentPage){
                            pageNumber.append('<li class="active"><a href="#" >'+i+'</a></li>');
                            continue;
                        }
                        //不是当前页面
                        pageNumber.append('<li><a href="#">'+i+'</a></li>');
                    }
                    //添加向右翻页（如果是最后一页，禁止向后翻页）
                    if (pageNow === data.totalPage) {pageNumber.append('<li class="disabled" status="noAllow"><a href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>');}
                    else {pageNumber.append('<li status="Next"><a href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>');}
                    pageNumber.append('<li><span>共'+data.totalPage+'页,'+data.totalRecord+'条记录</span></li>');
                },"json");
            });
            //绑定博客操作的三个按钮
            blogTable.on('click','button',function () {
                let status=$(this).attr("status");
                let id =$(this).attr("myid");
                //查看文章
                if(status==="check"){
                    //判断id是否为空
                    if(typeof id ===typeof undefined || id===false){
                        return;
                    }
                    window.open("./myPersonalViewBlog.html?id="+id);
                }
                //编辑文章
                else if(status==="edit"){
                    nowId=id;
                    //向服务器请求当前文章的信息
                    $.post("../GetArticleByIdServlet",{id:nowId},function (data) {
                        $("#editTitle").val(data.name);
                        $("#editContent").val(data.content);
                        let tags=data.tags;
                        let alreadyTag=$("#aleadytag");
                        //清除禁用状态和清除之前选的标签
                        $("input[type=button]").removeAttr("disabled");
                        alreadyTag.empty();
                        let tagButton;
                        for (let i=0;i<tags.length;i++){
                            if(tags[i]==="无"){
                                break;
                            }
                            //设置分类
                            tagButton=$("input[value="+tags[i]+"]");
                            alreadyTag.append(tagButton.clone());
                            alreadyTag.append(" ");
                            tagButton.attr("disabled","disabled");
                        }
                    },"json");
                    $("#editBlogModal").modal('show');
                }
                //删除文章
                else {
                    let isSure =confirm("您确定要删除文章吗！");
                    if(isSure){
                        $.post("../DeleteArticleServlet",{id:id},function (data) {
                            if(data==="success"){
                                alert("删除成功！");
                                $("#homeShow").hide();
                                $("#setingShow").hide();
                                $("#navPage").show();
                                $("#editBlogShow").show();
                                $.post("../GetArticleByNameServlet",{currentPage:"1",pageSize:"5",userName:cookieLogin},function (data) {
                                    //当前页码
                                    pageNow=1;
                                    //获取文章集合（json格式）
                                    let dataList=data.dataList;
                                    //清空列表原有数据
                                    blogTable.empty();
                                    //添加表格体
                                    blogTable.append('<tbody></tbody>');
                                    let table=$("#myBlogsTable tbody");
                                    //添加首行列名
                                    table.append('<tr>'+
                                        '<td>#</td>'+
                                        '<td>博文名字</td>'+
                                        '<td>博文分类</td>'+
                                        '<td>博客操作</td>>'+
                                        '</tr>'
                                    )
                                    //下面是博文信息的添加
                                    //循环添加博文信息行
                                    for(let i=0;i<dataList.length;i++){
                                        //先添加行标签并且设置id
                                        table.append('<tr id='+dataList[i].id+'>'+'</tr>');
                                        //动态获取行对象
                                        let row=$("#"+dataList[i].id);
                                        //第一列根据当前页码和每一页的数量计算得到
                                        row.append('<td>'+((data.currentPage-1)*data.pageSize+i+1)+"</td>");
                                        //第二列名字
                                        row.append('<td id='+dataList[i].id+'title'+'>'+dataList[i].name+'</td>');
                                        //第三列分类
                                        row.append('<td id='+dataList[i].id+"col"+'>'+'</td>');
                                        //循环添加分类
                                        for (let j=0;j<dataList[i].tags.length;j++) {
                                            $("#"+dataList[i].id+"col").append('<span class="label label-primary">'+dataList[i].tags[j]+'</span>');
                                        }
                                        //第四列操作
                                        row.append('<td><div class="btn-group"  role="group" aria-label="...">' +
                                            '<button type="button" myid='+dataList[i].id +' status="check" class="btn btn-info">查看</button>' +
                                            '<button type="button" myid='+dataList[i].id +' status="edit" class="btn btn-primary">编辑</button>' +
                                            '<button type="button" myid='+dataList[i].id +' status="delete" class="btn btn-danger">删除</button>' +
                                            '</div></td>');
                                    }
                                    //下面是页码信息的添加
                                    //循环添加页码
                                    pageNumber.empty();
                                    //刚开始的时候向前肯定不行
                                    pageNumber.append('<li class="disabled" status="noAllow"><a href="#" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>');
                                    for(let i=1;i<=data.totalPage;i++){
                                        //如果恰好是当前页面，将按钮设置为激活状态
                                        if(i===data.currentPage){
                                            pageNumber.append('<li class="active"><a href="#" >'+i+'</a></li>');
                                            continue;
                                        }
                                        //不是当前页面
                                        pageNumber.append('<li><a href="#">'+i+'</a></li>');
                                    }
                                    //以防记录为0或者为1的时候向后按钮仍然可以按的bug
                                    if(data.totalPage===0||data.totalPage===1) {pageNumber.append('<li class="disabled" status="noAllow"><a href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>');}
                                    else {pageNumber.append('<li status="Next"><a href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>');}
                                    pageNumber.append('<li><span>共'+data.totalPage+'页,'+data.totalRecord+'条记录</span></li>');
                                },"json");
                            }
                        },"text");
                    }
                }
            });
            //单击设置方法
            $("#showSetting").click(function () {
                $("#setingShow").show();
                $("#myDataShow").show();
                $("#homeShow").hide();
                $("#editBlogShow").hide();
                $("#changePassWordShow").hide();
                $("#deleteUserShow").hide();
                $("#navPage").hide();
            });
            //个人信息
            $("#myInf").click(function () {
                $("#myDataShow").show();
                $("#changePassWordShow").hide();
                $("#deleteUserShow").hide();
            });
            //修改密码
            $("#changePassword").click(function () {
                $("#changePassWordShow").show();
                $("#myDataShow").hide();
                $("#deleteUserShow").hide();
                //清空原密码
                $("#nowPassWord").val("");
                //清空改变的密码
                $("#wantToChangePassWord").val("");
                //清空重复的密码
                $("#repeatPassWord").val("");
            });
            //注销用户
            $("#deleteUser").click(function () {
                $("#deleteUserShow").show();
                $("#myDataShow").hide();
                $("#changePassWordShow").hide();
                $("#deleteUserPassWord").val("");
                $("#repeatDeleteUserPassWord").val("");
            });
            //下面是分类选择的逻辑，点击哪一个，哪一个就会被加到已经添加的标签后面。
            $("#tag1").click(function () {
                alreadyTag.append($(this).clone());
                alreadyTag.append(" ");
                $(this).attr("disabled","disabled");
            })
            $("#tag2").click(function () {
                alreadyTag.append($(this).clone());
                alreadyTag.append(" ");
                $(this).attr("disabled","disabled");
            })
            $("#clear").click(function () {
                alreadyTag.empty();
                $("input[type=button]").removeAttr("disabled");
            })
        });
    </script>
</head>
<body style="background: #e2e2e2 url(../img/home.jpg) no-repeat fixed center;
        background-size: cover;">
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">首页</a>
        </div>
        <div class="collapse navbar-collapse " >
            <ul class="nav navbar-nav navbar-left">
                <li><a href="blogs.html">Blogs</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><img class="img-rounded" src=""  width="30px" height="30px" id="face1"  alt="我的信息"><span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="addblogs.html">添加博客</a></li>
                        <li><a href="myseting.html">个人信息</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#" id="loginOut">退出账号</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="container">
    <div class="row">
        <div class="col-md-2">
            <br>
            <br>
            <img class="img-rounded" src="" id="myFace" height="150px" width="150px" alt="我的头像">
        </div>
        <div class="col-md-2">
            <br>
            <br>
            <h4 id="name"></h4>
            <h4 id="account"></h4>
            <label for="faceInputFile">选择一张图片作为头像</label>
            <input type="file" id="faceInputFile" accept="image/gif,image/jpeg,image/jpg,image/png,image/svg" placeholder="选择头像"><br>
            <button type="submit" id="changeFace" class="btn btn-primary">修改</button>
            <br>
            <br>
            <br>
        </div>
        <div class="col-md-5 col-md-offset-3">
            <br>
            <br>
            <br>
            <br>
            <blockquote>
                <p>I am a slow walker，but I never walk backwards</p>
                <footer>something good will coming<cite title="Source Title">----Florence</cite></footer>
            </blockquote>
        </div>
    </div>
    <div class="row" style="background-color: #333333">
        <ul class="nav nav-tabs">
            <li role="presentation"><a href="#" id="showPicture">Home</a></li>
            <li role="presentation"><a href="#" id="showEditArticle">博客管理</a></li>
            <li role="presentation"><a href="#" id="showSetting">设置</a></li>
        </ul>
    </div>
    <!--home主页的展示-->
    <div class="row" id="pane">
        <div id="homeShow" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                <li data-target="#carousel-example-generic" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner" role="listbox">
                <div class="item active">
                    <img src="../img/1.jpg" alt="...">
                    <div class="carousel-caption">
                    </div>
                </div>
                <div class="item">
                    <img src="../img/6.jpg" alt="...">
                    <div class="carousel-caption">
                    </div>
                </div>
                <div class="item">
                    <img src="../img/5.png" alt="...">
                    <div class="carousel-caption">
                    </div>
                </div>
            </div>
            <!-- 控制器 -->
            <a class="left carousel-control" href="#homeShow" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#homeShow" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
        <!--个人信息的展示-->
        <div class="row" id="setingShow">
            <div class="col-md-2 col-md-offset-1">
                <h5><a href="#" id="myInf">个人信息</a></h5>
                <h5><a href="#" id="changePassword">修改密码</a></h5>
                <h5><a href="#" id="deleteUser">注销用户</a></h5>
            </div>
            <!--修改用户名和性别-->
            <div class="col-md-8" id="myDataShow">
                <div class="form-group col-md-5">
                    <label for="changeName">用户名</label>
                    <input type="text" class="form-control" id="changeName" placeholder="用户名">&nbsp;&nbsp;
                    <span id="changeNameHelpInf"></span><br>
                    <label for="sex">性别：</label>
                    <label>
                        <input type="radio" name="sexChoose" id="sex" value="男" checked="">男&nbsp;&nbsp;
                        <input type="radio" name="sexChoose"  value="女" checked="">女
                        &nbsp;&nbsp;<span id="nowSex"></span>
                    </label><br>
                    <button type="button" class="btn btn-primary" id="changeInfButton">修改</button>
                </div>
            </div>
            <!--修改密码-->
            <div id="changePassWordShow">
                <div class="form-group col-md-5" >
                    <label for="nowPassWord">原密码</label>
                    <input type="password" class="form-control" id="nowPassWord" placeholder="输入原密码">
                    <br>
                    <label for="wantToChangePassWord">输入新密码</label>
                    <input type="password" class="form-control" id="wantToChangePassWord" placeholder="20字符以内">
                    <br>
                    <label for="repeatPassWord">再次输入密码</label>
                    <input type="password" class="form-control" id="repeatPassWord" placeholder="再次输入密码">
                    <br>
                    <button type="button" class="btn btn-info" id="changePassWordButton">修改</button>
                </div>
            </div>
            <!--删除用户-->
            <div id="deleteUserShow">
                <div class="form-group col-md-5" >
                    <label for="deleteUserPassWord">密码</label>
                    <input type="password" class="form-control" id="deleteUserPassWord" placeholder="输入密码">
                    <br>
                    <label for="repeatDeleteUserPassWord">再次输入密码</label>
                    <input type="password" class="form-control" id="repeatDeleteUserPassWord" placeholder="再次输入密码">
                    <br>
                    <button type="button" class="btn btn-danger" id="deleteUserButton">注销用户</button>
                </div>
            </div>

        </div>
        <!--管理博客页面的展示-->

        <div class="row" id="editBlogShow">
            <div class=" col-md-12">
                <table class="table table-hover" id="myBlogsTable">
                    <tr>
                        <td>
                            #
                        </td>
                        <td>
                            博客名称
                        </td>
                        <td>
                            博客标签
                        </td>
                        <td>
                            博客操作
                        </td>
                    </tr>
                    <tr>
                        <td>
                            1
                        </td>
                        <td>
                            我的啊啊啊
                        </td>
                        <td>
                            <span class="label label-primary">后端</span>
                            <span class="label label-primary">算法</span>
                        </td>
                        <td>
                            <div class="btn-group" role="group" aria-label="...">
                                <button type="button" class="btn btn-info">查看</button>
                                <button type="button" class="btn btn-primary">编辑</button>
                                <button type="button" class="btn btn-danger">删除</button>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>

        </div>
        <div class="row" id="navPage">
            <div class="col-md-offset-4">
                <nav aria-label="Page navigation">
                    <ul class="pagination" id="pageNumber">
                    </ul>
                </nav>
            </div>
        </div>
        <!--编辑内容模态框 -->
        <div class="modal fade" id="editBlogModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">编辑博客</h4>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group">
                                <label for="editTitle" class="control-label">标题(不超过15个字)</label>
                                <input type="text" class="form-control" id="editTitle">
                            </div>
                            <div class="form-group">
                                <label for="editContent" class="control-label">内容(不超过15个字)</label>
                                <textarea class="form-control" id="editContent" rows="10"></textarea>
                            </div>
                            <div class="form-group">
                                <div class="form-group" >
                                    <label ><strong>已选标签:</strong></label>
                                </div>
                                <div class="form-group" id="aleadytag">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-group"  id="enableSelectTag">
                                    <label><strong>可选标签:</strong></label>
                                </div>
                                <div class="form-group">
                                    <input id ="tag1" class="btn btn-primary" type="button" value="后端">&nbsp;&nbsp;
                                    <input id="tag2" class="btn btn-primary" type="button" value="算法">&nbsp;&nbsp;
                                    <input id ="clear" class="btn btn-danger" type="button" value="清空所选状态">&nbsp;&nbsp;
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                        <button type="button" class="btn btn-primary" id="editBlogButton">进行修改</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>